<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sarau ao Natural - Pr√≥ximo dia 29/11/2025 na Pra√ßa Cora√ß√£o de Maria em Esteio - RS - Edi√ß√£o aDeus nossos SONhoS.</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Montserrat:wght@300;400;600&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">

    <!-- Tailwind Config -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              handwriting: ['Caveat', 'cursive'],
              sans: ['Montserrat', 'sans-serif'],
              serif: ['Playfair Display', 'serif'], // Added for the movie title
            },
            colors: {
              night: { 900: '#020617', 800: '#0f172a', 700: '#1e1b4b' },
              sarau: { light: '#6fdc8c', DEFAULT: '#3fab5a', dark: '#2d7a40' },
              ember: { light: '#fbbf24', DEFAULT: '#f59e0b', dark: '#b45309', red: '#ef4444' },
              cinema: { black: '#1C1C1C', gold: '#D4A017', red: '#B22222' } // New Cinematic Colors
            },
            animation: {
              'float': 'float 6s ease-in-out infinite',
              'pulse-glow': 'pulse-glow 3s infinite',
              'shine': 'shine 1.5s infinite',
              'heartbeat': 'heartbeat 2s infinite', // New pulse for movie button
            },
            keyframes: {
              float: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-10px)' },
              },
              'pulse-glow': {
                '0%, 100%': { opacity: 0.8, filter: 'brightness(1)' },
                '50%': { opacity: 1, filter: 'brightness(1.3)' },
              },
              shine: {
                '0%': { transform: 'translateX(-100%) skewX(-12deg)' },
                '100%': { transform: 'translateX(200%) skewX(-12deg)' }
              },
              heartbeat: {
                '0%, 100%': { transform: 'scale(1)', boxShadow: '0 0 0 0 rgba(178, 34, 34, 0.7)' },
                '50%': { transform: 'scale(1.05)', boxShadow: '0 0 20px 0 rgba(178, 34, 34, 0)' },
              }
            }
          }
        }
      }
    </script>

    <!-- Custom CSS -->
    <style>
      body {
        margin: 0;
        overflow-x: hidden;
        background-color: #020617;
        color: white;
      }
      
      /* Custom Scrollbar */
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-track { background: #020617; }
      ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }

      /* Animations */
      @keyframes rise {
        0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
        20% { opacity: 1; }
        100% { transform: translateY(-20vh) scale(1.2); opacity: 0; }
      }
      @keyframes sway {
        0%, 100% { transform: translateX(0px); }
        50% { transform: translateX(15px); }
      }
      @keyframes flicker {
        0%, 100% { transform: scale(1); opacity: 0.9; }
        25% { transform: scale(1.05) rotate(1deg); opacity: 1; }
        50% { transform: scale(0.98) rotate(-1deg); opacity: 0.8; }
        75% { transform: scale(1.02); opacity: 0.95; }
      }

      .particle {
        position: absolute;
        bottom: 0;
        pointer-events: none;
        will-change: transform, opacity;
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
</head>
<body>

  <!-- 1. 8-BIT HEADER GAME -->
  <div class="w-full bg-[#0f0518] border-b-4 border-[#3fab5a] relative select-none">
    <canvas id="pixel-canvas" class="w-full h-[300px] cursor-pointer touch-manipulation block"></canvas>
  </div>

  <!-- 2. MAIN CONTENT WRAPPER -->
  <div class="relative min-h-[calc(100vh-300px)] w-full bg-gradient-to-b from-[#020617] via-[#0f172a] to-[#1e1b4b] selection:bg-sarau/30 flex flex-col">
    
    <!-- Overlay Vignette -->
    <div class="absolute inset-0 pointer-events-none bg-radial-gradient from-transparent to-black/60 z-20"></div>

    <!-- Background Particles Container -->
    <div id="particles-container" class="absolute inset-0 pointer-events-none z-0 overflow-hidden"></div>

    <!-- Content Fade-In Container -->
    <div id="main-content" class="relative z-10 flex flex-col items-center justify-between flex-grow px-4 py-8 transition-opacity duration-1000 ease-out opacity-0">
      
      <!-- Header Section -->
      <header class="text-center mt-8 md:mt-12 max-w-4xl mx-auto space-y-2">
        <h1 class="font-handwriting text-7xl md:text-9xl text-sarau drop-shadow-[0_0_25px_rgba(63,171,90,0.4)] animate-float pb-2 leading-[0.8]">
          Sarau <br class="md:hidden" />
          <span class="text-sarau-light">ao Natural</span>
        </h1>
        <p class="font-sans text-lg md:text-2xl text-blue-100/80 font-light tracking-wide leading-relaxed drop-shadow-md pt-4">
          A arte respira aqui. <br class="hidden md:block" />
          <span class="text-white font-normal">Inscreva-se e fa√ßa parte da nossa hist√≥ria.</span>
        </p>
      </header>

      <!-- Action Section (Buttons) -->
      <main class="w-full max-w-5xl mx-auto mt-8 md:mt-12 z-20">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-stretch">
          
          <!-- Artist Column (Amber) -->
          <div class="flex flex-col items-center space-y-4 p-6 rounded-3xl bg-gradient-to-b from-amber-900/10 to-transparent border border-amber-900/20 backdrop-blur-sm">
            <div class="text-center space-y-2 mb-2">
              <span class="text-4xl">üé®</span>
              <h2 class="font-handwriting text-3xl text-ember-light">Para Artistas</h2>
              <p class="font-sans text-sm text-gray-300 leading-relaxed max-w-xs mx-auto">
                M√∫sica, Poesia, Teatro, Performance. <br/>
                Se voc√™ quer subir no palco, apresentar seu talento e compartilhar sua arte.
              </p>
            </div>
            
            <!-- Artist Button -->
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSf_scIbk41ISXkwvU4K25msQ1F18vukadyW8sH7dFGU2ezc7A/viewform" target="_blank" rel="noopener noreferrer" 
               class="relative overflow-hidden group w-full py-4 px-6 rounded-2xl transition-all duration-300 ease-out transform hover:-translate-y-1 hover:scale-105 backdrop-blur-md border shadow-[0_4px_30px_rgba(0,0,0,0.1)] hover:shadow-[0_0_30px_rgba(245,158,11,0.6)] hover:border-amber-300 flex items-center justify-center bg-amber-600/20 border-amber-500/50 text-amber-100 hover:bg-amber-600/30">
              <!-- Shine Effect -->
              <div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-amber-500/10 to-transparent -skew-x-12 translate-x-[-100%] group-hover:animate-[shine_1.5s_infinite]"></div>
              <!-- Content -->
              <span class="relative z-10 flex items-center justify-center font-sans font-semibold text-lg tracking-wider w-full">
                Inscri√ß√£o para Artistas
                <svg class="w-5 h-5 ml-2 transition-transform duration-300 group-hover:translate-x-1 opacity-80" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
              </span>
              <!-- Bottom Highlight -->
              <div class="absolute bottom-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/40 to-transparent opacity-50"></div>
            </a>
          </div>

          <!-- Exhibitor Column (Green) -->
          <div class="flex flex-col items-center space-y-4 p-6 rounded-3xl bg-gradient-to-b from-sarau-dark/10 to-transparent border border-sarau-dark/20 backdrop-blur-sm">
            <div class="text-center space-y-2 mb-2">
              <span class="text-4xl">üõçÔ∏è</span>
              <h2 class="font-handwriting text-3xl text-sarau-light">Para Expositores</h2>
              <p class="font-sans text-sm text-gray-300 leading-relaxed max-w-xs mx-auto">
                Artesanato, Gastronomia, Produtos Criativos. <br/>
                Monte seu stand, exponha e venda seu trabalho.
              </p>
            </div>
            
            <!-- Exhibitor Button -->
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSdvd9jxZVE3J76r0s2v02NItW7WZ2gncHkYFsgm9gcqiGFYfg/viewform" target="_blank" rel="noopener noreferrer"
               class="relative overflow-hidden group w-full py-4 px-6 rounded-2xl transition-all duration-300 ease-out transform hover:-translate-y-1 hover:scale-105 backdrop-blur-md border shadow-[0_4px_30px_rgba(0,0,0,0.1)] hover:shadow-[0_0_30px_rgba(63,171,90,0.6)] hover:border-green-300 flex items-center justify-center bg-sarau/20 border-sarau/50 text-green-50 hover:bg-sarau/30">
              <!-- Shine Effect -->
              <div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-sarau-light/10 to-transparent -skew-x-12 translate-x-[-100%] group-hover:animate-[shine_1.5s_infinite]"></div>
              <!-- Content -->
              <span class="relative z-10 flex items-center justify-center font-sans font-semibold text-lg tracking-wider w-full">
                Inscri√ß√£o para Expositores
                <svg class="w-5 h-5 ml-2 transition-transform duration-300 group-hover:translate-x-1 opacity-80" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
              </span>
              <!-- Bottom Highlight -->
              <div class="absolute bottom-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/40 to-transparent opacity-50"></div>
            </a>
          </div>

        </div>
      </main>

      <!-- 3. NEW CINEMATIC SECTION: aDeus nossos SONhoS -->
      <section class="w-full max-w-4xl mx-auto mt-16 mb-24 relative z-20">
        <!-- Container Box -->
        <div class="relative overflow-hidden rounded-xl bg-cinema-black border border-cinema-gold/30 shadow-[0_0_40px_rgba(0,0,0,0.8)] group transition-all duration-500 hover:border-cinema-gold/60">
            
            <!-- Background Texture/Glow -->
            <div class="absolute inset-0 bg-gradient-to-br from-cinema-gold/5 via-transparent to-cinema-red/10 pointer-events-none"></div>
            <div class="absolute -top-20 -right-20 w-40 h-40 bg-cinema-gold/10 blur-[60px] rounded-full"></div>
            
            <div class="relative z-10 px-8 py-10 md:py-12 flex flex-col items-center text-center">
                
                <!-- Tagline -->
                <h3 class="text-cinema-gold font-sans font-bold text-xs md:text-sm tracking-[0.3em] uppercase mb-4 animate-pulse">
                    ‚òÖ Grande Estreia no Sarau ‚òÖ
                </h3>

                <!-- Film Title -->
                <h2 class="font-sans text-4xl md:text-6xl font-bold text-gray-100 tracking-tight leading-none mb-2">
                    aDeus nossos <span class="font-serif italic text-cinema-red">SONhoS</span>
                </h2>

                <!-- Divider -->
                <div class="w-16 h-1 bg-cinema-gold rounded-full opacity-60 my-6"></div>

                <!-- Credits & Info -->
                <div class="space-y-2 mb-8">
                    <p class="font-sans text-gray-400 font-light text-sm md:text-base">
                        Um filme de <strong class="text-gray-200">Lilian Martins Fontoura</strong>.
                    </p>
                    <p class="font-sans text-gray-500 text-xs uppercase tracking-widest">
                        Uma produ√ß√£o Lei Paulo Gustavo
                    </p>
                    <p class="font-sans text-gray-300 text-sm md:text-base mt-4 pt-2 border-t border-white/10 inline-block px-4">
                        29/11/2025 ‚Ä¢ Pra√ßa Cora√ß√£o de Maria ‚Ä¢ Esteio/RS
                    </p>
                </div>

                <!-- CTA Button -->
                <a href="https://adeusnossossonhos.com.br" target="_blank" rel="noopener noreferrer" 
                   class="inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-cinema-red to-[#8b1a1a] text-white rounded-full font-semibold tracking-wide transition-all transform hover:scale-105 hover:shadow-[0_0_25px_rgba(178,34,34,0.6)] animate-heartbeat group-hover:from-[#c22626] group-hover:to-[#a31e1e]">
                    <span class="relative flex h-3 w-3">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-3 w-3 bg-white"></span>
                    </span>
                    Assistir Teaser & Saber Mais
                    <svg class="w-5 h-5 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                </a>

            </div>
        </div>
      </section>

      <!-- Footer & Campfire -->
      <footer class="w-full flex flex-col items-center justify-end relative h-48 md:h-60 shrink-0">
        
        <!-- Campfire Component (Pure CSS) -->
        <div class="absolute bottom-12 md:bottom-16 left-1/2 transform -translate-x-1/2 scale-75 md:scale-100 z-0">
          <div class="relative w-40 h-40 group cursor-pointer">
            <!-- Glow -->
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 bg-orange-500/20 blur-[50px] rounded-full group-hover:bg-orange-500/40 group-hover:w-64 group-hover:h-64 transition-all duration-700 ease-in-out animate-pulse-glow"></div>
            
            <!-- Logs -->
            <div class="absolute bottom-0 w-full h-12 flex justify-center items-end">
              <div class="absolute w-24 h-6 bg-amber-900 rounded-full rotate-[20deg] translate-y-2 -translate-x-4 border-b-2 border-black/50 shadow-lg"></div>
              <div class="absolute w-24 h-6 bg-amber-900 rounded-full -rotate-[20deg] translate-y-2 translate-x-4 border-b-2 border-black/50 shadow-lg"></div>
              <div class="absolute w-20 h-5 bg-amber-950 rounded-full rotate-0 translate-y-4 z-10 shadow-xl"></div>
            </div>

            <!-- Flames -->
            <div class="absolute bottom-6 left-1/2 -translate-x-1/2 w-full h-full flex justify-center items-end mix-blend-screen">
              <div class="absolute bottom-2 w-20 h-28 bg-gradient-to-t from-red-600 to-orange-500 rounded-tl-[80%] rounded-tr-[80%] rounded-bl-[20%] rounded-br-[20%] animate-[flicker_3s_ease-in-out_infinite_alternate]" style="transform-origin: bottom center;"></div>
              <div class="absolute bottom-2 w-16 h-24 bg-gradient-to-t from-orange-500 to-amber-400 rounded-tl-[70%] rounded-tr-[70%] rounded-bl-[30%] rounded-br-[30%] animate-[flicker_2.2s_ease-in-out_infinite_alternate-reverse]" style="transform-origin: bottom center; animation-delay: 0.2s;"></div>
              <div class="absolute bottom-2 w-10 h-16 bg-gradient-to-t from-amber-300 to-white rounded-full opacity-90 animate-[flicker_1.5s_ease-in-out_infinite_alternate]" style="transform-origin: bottom center; animation-delay: 0.5s;"></div>
              <!-- Sparks -->
              <div class="absolute bottom-10 left-8 w-1 h-1 bg-yellow-200 rounded-full animate-ping opacity-75" style="animation-duration: 1.5s;"></div>
              <div class="absolute bottom-12 right-10 w-1.5 h-1.5 bg-orange-200 rounded-full animate-ping opacity-75" style="animation-duration: 2s; animation-delay: 1s;"></div>
            </div>
          </div>
        </div>

        <!-- Copyright -->
        <div class="z-10 text-center mt-auto pb-4">
          <p class="font-sans text-[10px] md:text-xs text-white/30 uppercase tracking-[0.2em] hover:text-white/50 transition-colors">
            ¬© 2025 - Site criado e hospedado com amor por <a href="https://pigorproducoes.com.br" target="_blank" rel="noopener noreferrer" class="text-sarau-light hover:text-sarau hover:underline font-bold transition-colors">Pigor Produ√ß√µes</a> üíö
          </p>
        </div>
      </footer>
    </div>
  </div>

  <!-- JAVASCRIPT LOGIC -->
  <script>
    /* --- 1. FADE IN ON LOAD --- */
    window.addEventListener('load', () => {
      setTimeout(() => {
        document.getElementById('main-content').classList.remove('opacity-0');
        document.getElementById('main-content').classList.add('opacity-100');
      }, 100);
      
      initParticles();
      initPixelGame();
    });

    /* --- 2. PARTICLES SYSTEM --- */
    function initParticles() {
      const container = document.getElementById('particles-container');
      const notes = ['‚ô™', '‚ô´', '‚ô©', '‚ô¨', '‚ô≠', '‚ôÆ'];
      
      // Create Sparks
      for (let i = 0; i < 25; i++) {
        createParticle(container, 'spark', notes);
      }
      // Create Notes
      for (let i = 0; i < 8; i++) {
        createParticle(container, 'note', notes);
      }
    }

    function createParticle(container, type, notes) {
      const el = document.createElement('div');
      el.className = `particle text-white ${type === 'spark' ? 'rounded-full bg-amber-500 blur-[1px]' : 'font-serif'}`;
      
      const isSpark = type === 'spark';
      const duration = isSpark ? 3 + Math.random() * 5 : 6 + Math.random() * 8;
      const delay = Math.random() * 10;
      const left = Math.random() * 100;
      const opacity = isSpark ? 0.3 + Math.random() * 0.5 : 0.1 + Math.random() * 0.3;
      const scale = isSpark ? 0.5 + Math.random() : 0.8 + Math.random() * 0.5;

      el.style.left = `${left}%`;
      el.style.animation = `rise ${duration}s linear infinite, sway ${duration/2}s ease-in-out infinite alternate`;
      el.style.animationDelay = `-${delay}s`;
      el.style.opacity = opacity;

      if (isSpark) {
        const size = scale * 3;
        el.style.width = `${size}px`;
        el.style.height = `${size}px`;
      } else {
        el.style.fontSize = `${scale * 1.5}rem`;
        el.style.color = 'rgba(255,255,255,0.4)';
        el.innerText = notes[Math.floor(Math.random() * notes.length)];
      }

      container.appendChild(el);
    }

    /* --- 3. 8-BIT PIXEL GAME ENGINE --- */
    function initPixelGame() {
      const canvas = document.getElementById('pixel-canvas');
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      
      // Audio Context
      let audioCtx = null;

      // Game Config
      const SCALES = [
        { note: 261.63, color: '#ef4444', label: 'D√≥', key: '1' },
        { note: 293.66, color: '#f97316', label: 'R√©', key: '2' },
        { note: 329.63, color: '#eab308', label: 'Mi', key: '3' },
        { note: 349.23, color: '#22c55e', label: 'F√°', key: '4' },
        { note: 392.00, color: '#06b6d4', label: 'Sol', key: '5' },
        { note: 440.00, color: '#3b82f6', label: 'L√°', key: '6' },
        { note: 493.88, color: '#a855f7', label: 'Si', key: '7' },
      ];

      const gameState = {
        musicians: SCALES.map(s => ({ x: 0, y: 260, vy: 0, blinkEnd: 0, ...s })),
        fireIntensity: 1.0
      };

      // Mouse Tracking State
      let mouseX = -1000;
      let mouseY = -1000;

      // Generate Stars once
      const stars = [];
      for(let i=0; i<80; i++) {
        stars.push({
          x: Math.random() * window.innerWidth, 
          y: Math.random() * 200, 
          alpha: Math.random(),
          twinkleSpeed: 0.01 + Math.random() * 0.05
        });
      }
      const fireParticles = [];
      
      // Shooting Star State
      let shootingStar = null;

      // Helper: Play Sound
      function playNote(frequency) {
        if (!audioCtx) {
          audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        }
        if (audioCtx.state === 'suspended') audioCtx.resume();

        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();

        osc.type = 'square';
        osc.frequency.setValueAtTime(frequency, audioCtx.currentTime);
        
        gain.gain.setValueAtTime(0.05, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.4);

        osc.connect(gain);
        gain.connect(audioCtx.destination);

        osc.start();
        osc.stop(audioCtx.currentTime + 0.4);
      }

      // Helper: Jump Logic
      function triggerMusician(index) {
        const GROUND_Y = 260; 
        const m = gameState.musicians[index];
        if (m && m.y >= GROUND_Y - 5) {
          m.vy = -8;
          playNote(m.note);
          // DYNAMIC FIRE BOOST: Cap raised to 8.0, increment larger (2.5) for impact
          gameState.fireIntensity = Math.min(gameState.fireIntensity + 2.5, 8.0);
        }
      }

      // Event Listeners
      window.addEventListener('keydown', (e) => {
        const index = parseInt(e.key) - 1;
        if (index >= 0 && index < 7) triggerMusician(index);
      });

      canvas.addEventListener('click', (e) => {
        const rect = canvas.getBoundingClientRect();
        const scaleX = canvas.width / rect.width;
        const clickX = (e.clientX - rect.left) * scaleX;
        
        gameState.musicians.forEach((m, index) => {
          if (Math.abs(clickX - m.x) < 25) triggerMusician(index);
        });
      });

      // Mouse Move for Tooltips
      canvas.addEventListener('mousemove', (e) => {
        const rect = canvas.getBoundingClientRect();
        const scaleX = canvas.width / rect.width;
        const scaleY = canvas.height / rect.height;
        mouseX = (e.clientX - rect.left) * scaleX;
        mouseY = (e.clientY - rect.top) * scaleY;
      });

      canvas.addEventListener('mouseleave', () => {
        mouseX = -1000;
        mouseY = -1000;
      });

      // Animation Loop
      function render() {
        // Resize logic
        if (canvas.width !== canvas.parentElement.clientWidth) {
          canvas.width = canvas.parentElement.clientWidth;
          canvas.height = 300;
        }
        
        const width = canvas.width;
        const height = 300;
        const centerX = width / 2;
        const GROUND_Y = height - 40;

        // Fire Decay (Snappier decay for rhythm)
        if (gameState.fireIntensity > 1.0) gameState.fireIntensity *= 0.95;
        else gameState.fireIntensity = 1.0;
        
        const fireScale = gameState.fireIntensity;

        // Positioning
        const maxGap = 50;
        const minGap = 30;
        let gap = width / 9;
        if (gap > maxGap) gap = maxGap;
        if (gap < minGap) gap = minGap;

        gameState.musicians.forEach((m, idx) => {
           m.x = centerX + (idx - 3) * gap;
        });

        // DRAWING
        ctx.imageSmoothingEnabled = false;

        // 1. Sky
        ctx.fillStyle = '#0f0518';
        ctx.fillRect(0, 0, width, height);

        // --- COUNTDOWN LOGIC ---
        const eventDate = new Date('2025-11-29T14:00:00').getTime();
        const now = new Date().getTime();
        const diff = eventDate - now;

        if (diff > 0) {
          const days = Math.floor(diff / (1000 * 60 * 60 * 24));
          const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((diff % (1000 * 60)) / 1000);

          // Efeito pulsante no texto
          const pulse = 1 + Math.sin(Date.now() / 500) * 0.05;
          const fontSize = 16 * pulse;
          
          ctx.save();
          ctx.font = `bold ${fontSize}px monospace`;
          ctx.textAlign = 'center';
          ctx.textBaseline = 'top';
          
          // Sombra Neon
          ctx.shadowColor = '#3fab5a';
          ctx.shadowBlur = 15;
          ctx.fillStyle = '#ffffff';
          
          const text = `${days}d ${hours}h ${minutes}m ${seconds}s`;
          ctx.fillText(text, centerX, 80);
          
          ctx.shadowBlur = 0;
          ctx.font = '10px monospace';
          ctx.fillStyle = '#3fab5a';
          ctx.fillText('PARA O GRANDE DIA', centerX, 65);
          ctx.restore();
        }

        // 2. Moon
        ctx.fillStyle = '#fbbf24';
        ctx.fillRect(width - 80, 40, 24, 24);
        ctx.fillStyle = '#0f0518';
        ctx.fillRect(width - 72, 48, 8, 8);

        // 3. Stars
        stars.forEach(s => {
          ctx.fillStyle = `rgba(255,255,255,${s.alpha})`;
          if (s.x > width) s.x = Math.random() * width;
          ctx.fillRect(s.x, s.y, 2, 2);
          s.alpha += s.twinkleSpeed;
          if (s.alpha > 1 || s.alpha < 0) s.twinkleSpeed *= -1;
        });
        
        // --- SHOOTING STAR LOGIC ---
        if (!shootingStar && Math.random() < 0.005) {
           const startX = Math.random() * width;
           shootingStar = {
             x: startX,
             y: Math.random() * (height / 3),
             vx: -4 - Math.random() * 4,
             vy: 2 + Math.random() * 2,
             len: 30 + Math.random() * 40,
             life: 1.0
           };
        }
        
        if (shootingStar) {
           shootingStar.x += shootingStar.vx;
           shootingStar.y += shootingStar.vy;
           shootingStar.life -= 0.015;
           
           if (shootingStar.life <= 0 || shootingStar.x < -100 || shootingStar.y > height) {
             shootingStar = null;
           } else {
             const gradient = ctx.createLinearGradient(
                shootingStar.x, shootingStar.y, 
                shootingStar.x - shootingStar.vx * 4, shootingStar.y - shootingStar.vy * 4
             );
             gradient.addColorStop(0, `rgba(255,255,255,${shootingStar.life})`);
             gradient.addColorStop(1, `rgba(255,255,255,0)`);
             
             ctx.strokeStyle = gradient;
             ctx.lineWidth = 2;
             ctx.beginPath();
             ctx.moveTo(shootingStar.x, shootingStar.y);
             ctx.lineTo(shootingStar.x - shootingStar.vx * 4, shootingStar.y - shootingStar.vy * 4);
             ctx.stroke();
             
             ctx.fillStyle = '#ffffff';
             ctx.fillRect(shootingStar.x, shootingStar.y, 2, 2);
           }
        }

        // 4. Ground
        ctx.fillStyle = '#1e1b4b';
        ctx.fillRect(0, GROUND_Y + 24, width, height);
        ctx.fillStyle = '#3fab5a';
        ctx.fillRect(0, GROUND_Y + 24, width, 6);

        // 5. Fire (Din√¢mica)
        const fireX = centerX;
        const fireY = GROUND_Y + 20;

        // DYNAMIC CANVAS GLOW
        // Add subtle idle breathing using sine wave
        const idleBreath = Math.sin(Date.now() / 400) * 8; 
        const glowSize = 40 + (fireScale * 20) + idleBreath;
        
        const glowGradient = ctx.createRadialGradient(fireX, fireY, 10, fireX, fireY, glowSize);
        glowGradient.addColorStop(0, `rgba(255, 150, 50, ${Math.min(0.8, (fireScale * 0.15) + 0.1)})`); // Increased base opacity slightly
        glowGradient.addColorStop(1, 'rgba(255, 100, 0, 0)');
        ctx.fillStyle = glowGradient;
        ctx.globalCompositeOperation = 'screen';
        ctx.fillRect(fireX - glowSize, fireY - glowSize, glowSize * 2, glowSize * 2);
        ctx.globalCompositeOperation = 'source-over';

        // Logs
        ctx.fillStyle = '#78350f'; 
        ctx.fillRect(fireX - 25, fireY, 50, 10);

        // Fire Particles Generation (Loop for Volume)
        // The higher the scale, the more particles spawn per frame
        const particlesToSpawn = Math.floor(fireScale * 0.8) + (Math.random() < 0.4 ? 1 : 0);
        
        for(let i=0; i < particlesToSpawn; i++) {
          fireParticles.push({
            x: fireX + (Math.random() * 30 - 15) * (fireScale * 0.8),
            y: fireY,
            life: 1,
            vx: (Math.random() - 0.5) * 3 * Math.sqrt(fireScale),
            vy: -2.5 * Math.sqrt(fireScale) // Higher heat = faster rise
          });
        }

        // Draw Fire Particles
        for (let i = fireParticles.length - 1; i >= 0; i--) {
          let p = fireParticles[i];
          p.y += p.vy;
          p.x += p.vx;
          p.life -= 0.04 / Math.sqrt(fireScale);
          if (p.life <= 0) {
            fireParticles.splice(i, 1);
          } else {
            // Color shift based on height/life
            ctx.fillStyle = p.life > 0.7 ? '#ef4444' : '#fbbf24';
            // Add white core for high heat
            if (fireScale > 4.0 && p.life > 0.8) ctx.fillStyle = '#ffffff';
            
            const pSize = Math.max(1, p.life * 6 * fireScale);
            ctx.fillRect(p.x, p.y, pSize, pSize);
          }
        }

        // 6. Musicians
        gameState.musicians.forEach((m, i) => {
          m.y += m.vy;
          if (m.y < GROUND_Y) m.vy += 0.5;
          else { m.y = GROUND_Y; m.vy = 0; }

          const size = 20;
          const pX = m.x - size/2;
          const pY = m.y - size;

          // Body
          ctx.fillStyle = m.color;
          ctx.fillRect(pX, pY, size, size);

          // Face Logic
          const lookDir = i < 3 ? 2 : (i > 3 ? -2 : 0);
          ctx.fillStyle = (['1','6','7'].includes(m.key)) ? '#ffffff' : '#000000'; 
          
          // Blink State
          if (Date.now() > m.blinkEnd && Math.random() < 0.005) {
             m.blinkEnd = Date.now() + 200; // blink duration
          }
          const blinking = Date.now() < m.blinkEnd;

          // Eyes
          if (blinking) {
             // Eyes Closed
             ctx.fillRect(pX + 4 + lookDir, pY + 8, 3, 1);
             ctx.fillRect(pX + 13 + lookDir, pY + 8, 3, 1);
          } else {
             // Eyes Open (Slightly larger for cuteness)
             ctx.fillRect(pX + 4 + lookDir, pY + 6, 3, 3);
             ctx.fillRect(pX + 13 + lookDir, pY + 6, 3, 3);
          }

          // Mouth Expression
          if (m.y < GROUND_Y) {
            // Jumping: Singing Mouth (Big "O")
            ctx.fillRect(pX + 8 + lookDir, pY + 12, 4, 5);
          } else {
            // Standing: Big Joyful Smile
            ctx.fillRect(pX + 3 + lookDir, pY + 11, 2, 2); // Corners raised high
            ctx.fillRect(pX + 15 + lookDir, pY + 11, 2, 2);
            ctx.fillRect(pX + 5 + lookDir, pY + 13, 10, 3); // Wide, thick bottom curve
          }

          // Shadow
          if (m.y < GROUND_Y) {
            ctx.fillStyle = 'rgba(0,0,0,0.3)';
            const shadowScale = 1 - (GROUND_Y - m.y) / 100;
            if (shadowScale > 0) ctx.fillRect(m.x - 8 * shadowScale, GROUND_Y + 26, 16 * shadowScale, 4);
          }

          // Label (Keyboard shortcut below)
          ctx.fillStyle = 'rgba(255,255,255,0.5)';
          ctx.font = '9px monospace';
          ctx.textAlign = 'center';
          ctx.fillText(m.key, m.x, GROUND_Y + 40);

          // --- TOOLTIP LOGIC ---
          const hitLeft = m.x - 15;
          const hitRight = m.x + 15;
          const hitTop = m.y - 30;
          const hitBottom = m.y;
          
          if (mouseX >= hitLeft && mouseX <= hitRight && mouseY >= hitTop && mouseY <= hitBottom) {
            const text = m.label; // "D√≥", "R√©", etc.
            ctx.font = 'bold 10px monospace';
            const textWidth = ctx.measureText(text).width;
            const padding = 6;
            const boxW = textWidth + padding * 2;
            const boxH = 18;
            const boxX = m.x - boxW / 2;
            const boxY = m.y - 40; // Float above head

            ctx.fillStyle = 'rgba(0,0,0,0.4)';
            ctx.fillRect(boxX + 2, boxY + 2, boxW, boxH);
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(boxX, boxY, boxW, boxH);
            ctx.strokeStyle = '#000000';
            ctx.lineWidth = 2;
            ctx.strokeRect(boxX, boxY, boxW, boxH);
            ctx.fillStyle = '#000000';
            ctx.textBaseline = 'middle';
            ctx.textAlign = 'center';
            ctx.fillText(text, m.x, boxY + boxH/2);
          }
        });
        
        // 8. Vignette (Dark Edges)
        const gradient = ctx.createRadialGradient(centerX, height/2, 100, centerX, height/2, width/1.5);
        gradient.addColorStop(0, 'rgba(0,0,0,0)');
        gradient.addColorStop(1, 'rgba(15,5,24,0.6)'); // Dark tint matching bg
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, width, height);

        // 9. Help Text
        ctx.fillStyle = '#3fab5a';
        ctx.font = '10px monospace';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'alphabetic';
        ctx.fillText('CLIQUE OU TECLE 1-7', centerX, 20);

        requestAnimationFrame(render);
      }

      render();
    }
  </script>
</body>
</html>